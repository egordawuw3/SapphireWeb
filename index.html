<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta http-equiv="Cache-Control" content="max-age=31536000">
  <title>Sapphire - Команда профессионалов</title>
  
  <!-- Критический CSS инлайн -->
  <style>
    /* Критические стили */
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #0a0a0a;
      color: #ffffff;
      transform-style: preserve-3d;
      perspective: 1000px;
    }

    /* Оптимизация шрифтов */
    @font-face {
      font-family: 'Inter';
      font-style: normal;
      font-weight: 400;
      font-display: swap;
      src: local('Inter'),
           url('fonts/Inter-Regular.woff2') format('woff2');
      font-synthesis: none;
      size-adjust: 100%;
      ascent-override: 90%;
      descent-override: 25%;
      line-gap-override: 0%;
    }

    /* Оптимизация LCP */
    .home__title {
      font-family: 'Inter', sans-serif;
      font-weight: 700;
      contain: layout style;
      content-visibility: auto;
      contain-intrinsic-size: 0 60px;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }

    .home__subtitle {
      font-family: 'Inter', sans-serif;
      font-weight: 400;
      contain: layout style;
      content-visibility: auto;
      contain-intrinsic-size: 0 24px;
      display: block;
      min-height: 24px;
      transform: translateZ(0);
      will-change: transform;
      margin: 1rem 0;
    }

    /* Оптимизация сервисных блоков */
    .home__service {
      contain: layout style;
      content-visibility: auto;
    }

    .home__service h3 {
      min-height: 2em;
      line-height: 1.2;
      margin: 0 0 0.5em;
    }

    .home__service p {
      min-height: 3em;
      line-height: 1.5;
      margin: 0;
    }

    /* Оптимизация изображений */
    img {
      aspect-ratio: attr(width) / attr(height);
      width: 100%;
      height: auto;
      display: block;
      content-visibility: auto;
    }

    /* Оптимизация анимаций */
    .animate-on-scroll {
      backface-visibility: hidden;
      transform: translateZ(0);
      will-change: transform, opacity;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }

    .animate-on-scroll:not(.animated) {
      opacity: 0;
      transform: translateY(10px);
    }

    /* Критические стили навигации */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      padding: 1.5rem 0;
      background-color: rgba(10, 10, 10, 0.9);
      backdrop-filter: blur(8px);
    }
  </style>

  <!-- Предзагрузка критических ресурсов -->
  <link rel="preload" href="fonts/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/Inter-Bold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="images/hero-bg.webp" as="image" type="image/webp">
  
  <!-- Отложенная загрузка некритических стилей -->
  <link rel="stylesheet" href="styles/main.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="styles/home.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="styles/portfolio.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="styles/team.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="styles/contact.css" media="print" onload="this.media='all'">
</head>

<body>
  <!-- ... existing code ... -->
  
  <!-- Оптимизация загрузки скриптов -->
  <script src="js/main.js" defer></script>
  
  <!-- Оптимизация загрузки изображений -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if ('loading' in HTMLImageElement.prototype) {
        const images = document.querySelectorAll('img[loading="lazy"]');
        images.forEach(img => {
          img.src = img.dataset.src;
        });
      }
    });
  </script>
</body>
</html>